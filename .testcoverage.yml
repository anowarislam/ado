# Coverage profile input file (generated by go test -coverprofile)
profile: coverage.out

# Global thresholds (percentage as integer)
threshold:
  file: 0       # No minimum per-file (informational only, gradually increase)
  package: 80   # Minimum coverage per package (enforced via overrides)
  total: 80     # Minimum total project coverage (enforced)

# Per-package overrides (array of path regex patterns with thresholds)
override:
  # Lower thresholds for packages below 80% (to be improved incrementally)
  - path: ^cmd/ado/config$
    threshold: 65       # Current: 66%, target: 80%
  - path: ^cmd/ado$
    threshold: 0        # Main package (just imports)
  - path: ^cmd/ado/root$
    threshold: 75       # Current: 77.8%, target: 80%
  - path: ^internal/meta$
    threshold: 59       # Current: 59.1%, target: 80%

  # Higher thresholds for well-tested packages
  - path: ^internal/config$
    threshold: 85       # Already exceeds 80%
  - path: ^internal/logging$
    threshold: 85       # Already exceeds 80%
  - path: ^internal/ui$
    threshold: 90       # Already exceeds 80%

# Exclusions (object with paths array of regex patterns)
exclude:
  paths:
    - ^internal/testutil$      # Test utilities

# Local coverage threshold (applied to files with >0% coverage)
# Files with 0% coverage are reported but don't fail the check
localPrefix: github.com/anowarislam/ado
