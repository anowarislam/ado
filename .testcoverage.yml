# Coverage profile input file (generated by go test -coverprofile)
profile: coverage.out

# Global thresholds (percentage as integer)
threshold:
  file: 0       # No minimum per-file (informational only, gradually increase)
  package: 80   # Minimum coverage per package (enforced via overrides)
  total: 80     # Minimum total project coverage (enforced)

# Per-package overrides (array of path regex patterns with thresholds)
override:
  # Main package (just imports)
  - path: ^cmd/ado$
    threshold: 0

  # Packages meeting 80%+ threshold
  - path: ^cmd/ado/config$
    threshold: 80       # Current: 83.0%
  - path: ^cmd/ado/root$
    threshold: 80       # Current: 83.3%
  - path: ^internal/config$
    threshold: 85       # Current: 91.4%
  - path: ^internal/logging$
    threshold: 85       # Current: 96.4%
  - path: ^internal/ui$
    threshold: 90       # Current: 93.3%

  # Special case: Hardware-dependent package with realistic threshold
  - path: ^internal/meta$
    threshold: 60       # Current: 60.2% (hardware detection limits testability)

# Exclusions (object with paths array of regex patterns)
exclude:
  paths:
    - ^internal/testutil$      # Test utilities

# Local coverage threshold (applied to files with >0% coverage)
# Files with 0% coverage are reported but don't fail the check
localPrefix: github.com/anowarislam/ado
